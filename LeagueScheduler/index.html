<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<!-- Copyright (c) 2013 YukonTR -->
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="../dijit/themes/claro/claro.css" media="screen">
        <link rel="stylesheet" href="../dbootstrap/build/theme/dbootstrap/theme/dbootstrap/dbootstrap.css" media="screen">
        <link rel="stylesheet" href="style.css" media="screen">
        <link rel="stylesheet" href="scheduledgridstyle.css" media="screen">
        <!-- see https://github.com/thesociable/dbootstrap/issues/75
        for issues with dojox calendar and dbootstrap; do hard replace from claro in .css files as mentioned in link -->
        <link rel="stylesheet" href="../dojox/calendar/themes/dbootstrap/Calendar.css" />
        <title>Event Scheduler - Optimization with large number of competing constraints</title>
    </head>
    <body class="dbootstrap">
        <h1>Sports League Scheduler <small id="versiongreeting"></small> </h1>
        <h3><i>Maximize fairness and satisfy constraints</i></h3>
        <h5>Start by configuring Edit/Generate</h5>
    	<!-- load Dojo -->
    	<script src="../dojo/dojo.js"
            data-dojo-config="async: true , packages: [{location:'../dbootstrap/build/theme/dbootstrap', name:'dbootstrap'}]"></script>
        <script>
			require(["dbootstrap", "dojo/dom", "LeagueScheduler/scheduler",
                "dijit/layout/TabContainer", "dijit/layout/ContentPane", "dijit/layout/BorderContainer", "dijit/layout/StackContainer",
                "dijit/TitlePane", "dijit/form/Select", "dijit/form/Form", "dijit/form/ValidationTextBox", "dijit/form/NumberTextBox", "dijit/form/DateTextBox", "dijit/form/TimeTextBox","dijit/form/DropDownButton",
                "dijit/DropDownMenu","dijit/MenuItem", "dijit/PopupMenuItem", "dijit/form/Button",
                "dojo/domReady!"],
			function(dbootstrap, dom){
                var version_str = "v1.0.0.21x";
                var greeting_node = dom.byId("versiongreeting");
                var today = new Date();
                greeting_node.innerHTML = version_str + ", updated "+ today.toLocaleDateString();
    			//var greeting = dom.byId("greeting");
    			//greeting.innerHTML +="";
			});
		</script>
		<div data-dojo-type="dijit/layout/TabContainer" id="tabcontainer_id" style="width: 100%; height: 100%;">
            <div data-dojo-type="dijit/layout/ContentPane" title="Edit/Generate" id="editPane" data-dojo-props="selected:true">
                <!-- http://dojotoolkit.org/reference-guide/1.9/dijit/DropDownMenu.html#dijit-dropdownmenu -->
                <div data-dojo-type="dijit/form/DropDownButton" class="dijit dijitReset dijitInline primary dijitDropDownButton editsched" role="presentation">
                    <span>Select Configuration</span>
                    <div data-dojo-type="dijit/DropDownMenu">
                        <div data-dojo-type="dijit/PopupMenuItem">
                            <span>Generate Schedule</span>
                            <div data-dojo-type="dijit/DropDownMenu">
                                <div data-dojo-type="dijit/MenuItem" id="newsched_item">New Schedule Parameters</div>
                                <div data-dojo-type="dijit/PopupMenuItem">
                                    <span>Existing Schedule Parameters</span>
                                    <div data-dojo-type="dijit/DropDownMenu" id="newscheddbcollection_submenu">
                                    </div>
                                </div>
                                <div data-dojo-type="dijit/PopupMenuItem">
                                    <span>Delete Schedule Parameters</span>
                                    <div data-dojo-type="dijit/DropDownMenu" id="delnewscheddbcollection_submenu">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div data-dojo-type="dijit/PopupMenuItem">
                            <span>Division Info</span>
                            <div data-dojo-type="dijit/DropDownMenu">
                                <div data-dojo-type="dijit/PopupMenuItem">
                                    <span>Round Robin Parameters</span>
                                    <div data-dojo-type="dijit/DropDownMenu">
                                        <div data-dojo-type="dijit/MenuItem" id="newdivinfo_item">New Division Info</div>
                                        <div data-dojo-type="dijit/PopupMenuItem">
                                            <span>Edit Division Info</span>
                                            <div data-dojo-type="dijit/DropDownMenu" id="dbcollection_submenu">
                                            </div>
                                        </div>
                                        <div data-dojo-type="dijit/PopupMenuItem">
                                            <span>Delete Division Info</span>
                                            <div data-dojo-type="dijit/DropDownMenu" id="deldbcollection_submenu">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div data-dojo-type="dijit/PopupMenuItem">
                                    <span>Tournament Parameters</span>
                                    <div data-dojo-type="dijit/DropDownMenu">
                                        <div data-dojo-type="dijit/MenuItem" id="tournnewdivinfo_item">New Division Info</div>
                                        <div data-dojo-type="dijit/PopupMenuItem">
                                            <span>Edit Division Info</span>
                                            <div data-dojo-type="dijit/DropDownMenu" id="tourndbcollection_submenu">
                                            </div>
                                        </div>
                                        <div data-dojo-type="dijit/PopupMenuItem">
                                            <span>Delete Division Info</span>
                                            <div data-dojo-type="dijit/DropDownMenu" id="deltourndbcollection_submenu">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div> <!-- dropdownmenu -->
                        </div> <!-- popupmenuitem-->
                        <!--
                        <div data-dojo-type="dijit/PopupMenuItem">
                            <span>Existing Schedule</span>
                            <div data-dojo-type="dijit/DropDownMenu">
                                <div data-dojo-type="dijit/PopupMenuItem">
                                    <span>Display Schedule</span>
                                    <div data-dojo-type="dijit/DropDownMenu" id="scheddbcollection_submenu">
                                    </div>
                                </div>
                                <div data-dojo-type="dijit/PopupMenuItem">
                                    <span>Delete Schedule</span>
                                    <div data-dojo-type="dijit/DropDownMenu" id="del_scheddbcollection_submenu">
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <div data-dojo-type="dijit/PopupMenuItem">
                            <span>Specify Fields</span>
                            <div data-dojo-type="dijit/DropDownMenu">
                                <div data-dojo-type="dijit/MenuItem" id="newfieldlist_item">New Field List</div>
                                <div data-dojo-type="dijit/PopupMenuItem">
                                    <span>Edit Field List</span>
                                    <div data-dojo-type="dijit/DropDownMenu" id="fielddb_submenu">
                                    </div>
                                </div>
                                <div data-dojo-type="dijit/PopupMenuItem">
                                    <span>Delete Field List</span>
                                    <div data-dojo-type="dijit/DropDownMenu" id="delfielddb_submenu">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div data-dojo-type="dijit/PopupMenuItem">
                            <span>Restrictions/Priorities</span>
                            <div data-dojo-type="dijit/DropDownMenu">
                                <div data-dojo-type="dijit/MenuItem" id="newconstraint_id">
                                    New Restriction/Priority
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--reference on use of different kinds of id's:
                http://dojotoolkit.org/reference-guide/1.9/dijit/registry.html#data-dojo-id-jsid-before-dojo-1-6
                http://stackoverflow.com/questions/12469140/difference-between-id-and-data-dojo-id
                -->
                <!-- basic sched parameters -->
                <div id="paramStackContainer_id" data-dojo-type="dijit/layout/StackContainer" data-dojo-props="doLayout:false" style="float:left; width:80%">
                    <div id="dummy_id" data-dojo-type="dijit/layout/ContentPane"></div>
                    <div id="newschedcpane_id" data-dojo-type="dijit/layout/ContentPane">
                        <form data-dojo-type="dijit/form/Form" id="newsched_form_id" data-dojo-id="newsched_form_id">
                        </form>
                    </div>
                    <div id="seasoncalendar_input" data-dojo-type="dijit/layout/ContentPane">
                        <span id="newsched_text"></span><br>
                    </div>
                    <div id="textbtncpane_id" data-dojo-type="dijit/layout/ContentPane">
                        <span id="infoTextNode_id"></span>
                        <div id="infoBtnNode_id"></div>
                    </div>
                    <div id="numfieldcpane_id" data-dojo-type="dijit/layout/ContentPane">
                        <form data-dojo-type="dijit/form/Form" id="fieldconfig_form_id" data-dojo-id="fieldconfig_form_id">
                            <label for="fieldlistname_input_id">Enter Field Collection Name</label>
                            <input type="text" name="fieldlistname_input" id="fieldlistname_input_id" value="PHMSA" required="true" data-dojo-type="dijit/form/ValidationTextBox" title="Enter Field Collection Name"
                            data-dojo-props="regExp:'[\\w]+', promptMessage:'Enter Field List name - only alphanumeric characters and _', invalidMessage:'only alphanumeric characters and _', missingMessage:'enter field list name'"/>
                            <!--
                            <div class="dijitHidden"><span data-dojo-type="dijit/Tooltip" data-dojo-props="connectId:'fieldlistname_input_id', position:['below','after']">Specify Field List Name</span></div> -->
                            <label for="fieldnum_input_id">Number of Fields</label>
                            <input type="text" name="fieldnum_input" id="fieldnum_input_id" value="1" required="true" data-dojo-type="dijit/form/NumberTextBox" title="Enter Number of Fields and press ENTER" style="width:6em"
                            data-dojo-props="constraints:{min:1, max:1000}, promptMessage:'Enter Number of Fields', invalidMessage:'Must be Non-zero integer', missingMessage:'Enter Number of Fields (positive ineteger)'"/>
                            <!--
                            <div class="dijitHidden"><span data-dojo-type="dijit/Tooltip" data-dojo-props="connectId:'fieldnum_input_id', position:['below','after']">Specify Number of Fields and press ENTER</span>
                            </div> -->
                        </form>
                    </div>
                    <div id="numdivcpane_id" data-dojo-type="dijit/layout/ContentPane">
                        <!-- Division Info input form -->
                        <form data-dojo-type="dijit/form/Form" id="newdivinfo_form_id" data-dojo-id="newdivinfo_form_id">
                            <label for="newdivinfo_input_id">New Schedule Name</label>
                            <input type="text" name="newdivinfo_input" id="newdivinfo_input_id" value="ph" required="true" data-dojo-type="dijit/form/ValidationTextBox" title="Enter Schedule Name"
                            data-dojo-props="regExp:'[\\w]+', promptMessage:'Enter schedule name - only alphanumeric characters and _', invalidMessage:'only alphanumeric characters and _', missingMessage:'enter schedule name'"/>
                            <label for="divnum_input_id">Number of Divisions</label>
                            <input type="text" name="divnum_input" id="divnum_input_id" value="1" required="true" data-dojo-type="dijit/form/NumberTextBox" title="Enter Number of Divisions and press ENTER" style="width:6em"
                            data-dojo-props="constraints:{min:1, max:1000}, promptMessage:'Enter Number of Divisions', invalidMessage:'Must be Non-zero integer', missingMessage:'Enter Number of Divisions (positive integer)'"/>
                        </form>
                    </div>
                    <div id="scheddivcpane_id" data-dojo-type="dijit/layout/ContentPane">
                        <label for="schedDBDivisionSelect">Select Division</label>
                        <select id="schedDBDivisionSelect" data-dojo-type="dijit/form/Select" name="schedDBDivisionSelect">
                        </select>
                    </div>
                </div>
                <!-- http://dojofoundation.org/packages/dgrid/tutorials/grids_and_stores/ -->
                <div id="divisionInfoInputGridErrorNode" class="style_none"></div>
                <!-- manage switching between grids by using content panes embedded in stack container -->
                <!-- note http://dojotoolkit.org/reference-guide/1.9/dijit/layout/StackContainer.html for layout guidance -->
                <!-- http://css.maxdesign.com.au/floatutorial/-->
                <div id="gridContainer_id" data-dojo-type="dijit/layout/StackContainer" data-dojo-props="doLayout:false" style="clear:left">
                    <div id="blankcpane_id" data-dojo-type="dijit/layout/ContentPane">
                    </div>
                    <div id="divinfocpane_id" data-dojo-type="dijit/layout/ContentPane">
                        <div id="divinfogrid_id"></div>
                        <span id="bracketInfoNodeText"></span>
                        <div id="bracketInfoInputGrid"></div>
                    </div>
                    <div id="tourndivinfocpane_id" data-dojo-type="dijit/layout/ContentPane">
                        <div id="tourndivinfogrid_id"></div>
                    </div>
                    <div id="schedinfocpane_id" data-dojo-type="dijit/layout/ContentPane">
                        <div id="schedinfogrid_id"></div>
                    </div>
                    <div id="fieldinfocpane_id" data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="design:'headline', gutters:true, liveSplitters:true" style="height:800px;width: 100%">
                        <div id="fieldinfocpane_inner_id" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'top'" style="height:300px; width: 100%">
                            <div id="fieldinfogrid_id" ></div>
                        </div>
                        <!-- http://dojotoolkit.org/reference-guide/1.9/dijit/layout/BorderContainer.html -->
                        <!-- if id is changed, make sure to check css style reference id -->
                        <!-- ref http://stackoverflow.com/questions/17658263/2-dojo-dijit-content-panes-side-by-side-when-showing-hiding-one-the-other-wil -->
                        <!-- Use visibility style property below to make borderContainter contents
                        visible at will.  There seems to be a problem using the style display property -->
                        <!--
                        <div id="borderContainer" data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="region: 'center', design:'sidebar', gutters:true, liveSplitters:true" style="visibility:hidden">
                            <div id="borderContainer_LeftContentPane" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="splitter:true, region:'leading'">
                                <div data-dojo-type="dijit/TitlePane" data-dojo-props="title: 'Select Dates'">
                                    <label for="fieldselect_id">Select Venue</label>
                                    <select id="fieldselect_id" name="fieldselect_id" data-dojo-type="dijit/form/Select">
                                    </select>
                                    <form data-dojo-type="dijit/form/Form" id="fieldsched_form_id" data-dojo-id="fieldsched_form_id">
                                    <label for="fieldevent_id">Event Name</label><br>
                                    <input type="text" id="fieldevent_id" value="Sports" required="true" data-dojo-type="dijit/form/ValidationTextBox"
                                    data-dojo-props="regExp:'[\\w]+', promptMessage:'Enter New Schedule - only alphanumeric characters and _', invalidMessage:'only alphanumeric characters and _', missingMessage:'enter schedule name'"/>
                                    <br>
                                    <label for="eventdate_id">Event Date:</label><br>
                                    <input id="eventdate_id" data-dojo-type="dijit/form/DateTextBox" data-dojo-props="style:'width:150px'">
                                    <br>
                                    <label for="starttime_id">Start:</label>
                                    <input id="starttime_id" value="T08:00:00" data-dojo-type="dijit/form/TimeTextBox" data-dojo-props="style:'width:110px'">
                                    <label for="endtime_id">End:</label>
                                    <input id="endtime_id" value="T09:00:00"data-dojo-type="dijit/form/TimeTextBox" data-dojo-props="style:'width:110px'">
                                    <br>
                                    <button class="dijitButton primary" data-dojo-type="dijit/form/Button" type="button" id="datetimeset_btn" value="Submit">Update</button>
                                    <button class="dijitButton primary" data-dojo-type="dijit/form/Button" type="button" id="datetimedel_btn" value="Submit">Delete</button>
                                    </form>
                                </div>
                                <div id="duptitlepane_id" data-dojo-type="dijit/TitlePane" data-dojo-props="title: 'Duplicate', open:false">
                                    <label for="dupfieldselect_id">Select Venue for Duplication</label>
                                    <select id="dupfieldselect_id" name="dupfieldselect_id" data-dojo-type="dijit/form/Select">
                                    </select><br>
                                    <label for="dupeventdate_id">Event Date to Dup:</label><br>
                                    <input id="dupeventdate_id" data-dojo-type="dijit/form/DateTextBox" data-dojo-props="style:'width:150px'"><br>
                                    <button class="dijitButton primary" data-dojo-type="dijit/form/Button" type="button" id="datetimedup_btn" value="Submit">Duplicate</button>
                                </div>
                            </div>
                            <div id="borderContainer_RightContentPane" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="splitter:true, region:'center'">
                                <div id="calendarGrid_id"></div>
                            </div>
                        </div>  -->
                    </div> <!---outer bordercontainer as one of content panes-->
                </div> <!--stackcontainer-->
                <!-- http://stackoverflow.com/questions/2637696/how-to-place-div-side-by-side -->
            </div>
            <!--
        	<div data-dojo-type="dijit/layout/ContentPane" title="Division"  id="divisionPane">
                <div id="dbstatus_txt"></div>
                <b>Click on Division row</b> to see division-specific schedule - scroll down.  See other tabs to see team-specific and field-specific schedule.
                <div id="divisionInfoGrid"></div>
                <div id="scheduleInfoGrid"></div>
    		</div>
    		<div data-dojo-type="dijit/layout/ContentPane" title="Teams" id="teamsPane">
    			<label for="divisionSelect">Select Division</label>
    			<select id="divisionSelect" data-dojo-type="dijit/form/Select" name="divisionSelect">
    			</select>
    			<b>Selection division, then click on row</b> with team to see team schedule.  Scroll down. <b>Note on Bye Weeks:</b> Because of the odd number of teams in some divisions, some teams ih the division will have bye week(s) in their schedule.
    			<div id="divisionGridLinkTeams"></div>
    			<div id="teamDataGrid"></div>
    		</div>
    		<div data-dojo-type="dijit/layout/ContentPane" title="Fields" id="fieldsPane">
    			<b>click on Field row</b> to see field schedule.  Scroll down
    			<div id="fieldInfoGrid"></div>
    			<div id="fieldScheduleGrid"></div>
    		</div>
    		<div data-dojo-type="dijit/layout/ContentPane" title="Fairness Metrics" id="metricsPane">
    			Internal use - display metrics for schedule fairness. Some specific schedule metrics impacted by constraints implemented for specific teams.<br>
    			<label for="divisionSelectForMetrics">Select Division</label>
                <select id="divisionSelectForMetrics" data-dojo-type="dijit/form/Select" name="divisionSelectForMetrics">
    			</select>
    			<div id="metricsHeader"></div>
    			<div id="metricsGrid"></div>
    		</div> -->
            <!--
    		<div data-dojo-type="dijit/layout/ContentPane" title="Download Here" id="DownloadPane">
                <div id="divScheduleLinks">
    			<b>Schedules for Download</b><br><br>
    			<i>Team Schedules in one XLS file, by division: </i></div>
                <br>
				<i>U6-U12 League Schedule, sorted by date and time, one file</i>
				<a href="http://localhost/doc/xls/2013PHMSAFall_schedule_RefFormat.xls">U6-U12 League Schedule</a>
				<br>
				<i>All Team Schedules by Team (XLS)</i>:<br>
				<div id="teamScheduleLinks"></div>
    		</div>
    		<div data-dojo-type="dijit/layout/ContentPane" title="Generate" id="generatePane">
    			<b>Generate Schedule</b>
                <span class="dijitButton" style="display:inline">
    			<button class="primary" id="schedule_btn" data-dojo-type="dijit/form/Button" type="button">Generate Sched</button>
                <div data-dojo-type="dijit/form/DropDownButton" class="primary dijitDropDownButton">
                    <span>Generate Cup Sched</span>
                    <div data-dojo-type="dijit/DropDownMenu">
                        <div data-dojo-type="dijit/MenuItem" id="elimination2013">Elimination Tournament</div>
                        <div data-dojo-type="dijit/PopupMenuItem">
                            <span>Select RR Round</span>
                            <div data-dojo-type="dijit/DropDownMenu" id="cupdbcollection_submenu">
                            </div>
                        </div>
                    </div>
                </div>
    			<button class="primary" id="export_btn" data-dojo-type="dijit/form/Button" type="button">Export</button>
                <div data-dojo-type="dijit/form/DropDownButton" class="primary dijitDropDownButton">
                    <span>Export Cup Sched</span>
                    <div data-dojo-type="dijit/DropDownMenu">
                        <div data-dojo-type="dijit/MenuItem" id="export_elimination2013">Elim Tournament</div>
                        <div data-dojo-type="dijit/PopupMenuItem">
                            <span>Select RR Round</span>
                            <div data-dojo-type="dijit/DropDownMenu" id="exportcupdbcollection_submenu">
                            </div>
                        </div>
                    </div>
                </div><br>
                </span>
                <div id="dbstatus1_txt"></div>
    		</div>
            -->
    	</div>
    </body>
</html>
