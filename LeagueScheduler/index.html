<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<!-- Copyright (c) 2013 YukonTR -->
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <!--<link rel="stylesheet" href="../dijit/themes/claro/claro.css" media="screen">-->
        <link rel="stylesheet" href="../dbootstrap/build/theme/dbootstrap/theme/dbootstrap/dbootstrap.css" media="screen">
        <link rel="stylesheet" href="style.css" media="screen">
        <link rel="stylesheet" href="scheduledgridstyle.css" media="screen">
        <title>PHMSA AYSO Fall 2013</title>
    </head>
    <body class="dbootstrap">
        <h1 id="greeting">PHMSA League Scheduler ver2013_1.0 0.07n</h1>
    	<!-- load Dojo -->
    	<script src="../dojo/dojo.js"
            data-dojo-config="async: true , packages: [{location:'../dbootstrap/build/theme/dbootstrap', name:'dbootstrap'}]"></script>
        <script>
			require(["dbootstrap", "dojo/dom", "dojo/parser", "LeagueScheduler/scheduler",
			"dijit/layout/TabContainer", "dijit/layout/ContentPane","dijit/form/Select", "dijit/form/Form", "dijit/form/ValidationTextBox", "dijit/form/NumberTextBox",
            "dijit/form/DropDownButton", "dijit/DropDownMenu","dijit/MenuItem", "dijit/PopupMenuItem", "dijit/Tooltip",
            "dijit/form/Button",
            "dojo/domReady!"],
			function(dbootstrap, dom){
    			var greeting = dom.byId("greeting");
    			greeting.innerHTML +="";
			});
		</script>
		<div data-dojo-type="dijit/layout/TabContainer" style="width: 100%; height: 100%;">
        	<div data-dojo-type="dijit/layout/ContentPane" title="Division"  id="divisionPane" data-dojo-props="selected:true">
                <div id="dbstatus_txt"></div>
                <b>Click on Division row</b> to see division-specific schedule - scroll down.  See other tabs to see team-specific and field-specific schedule.
                <div id="divisionInfoGrid"></div>
                <div id="scheduleInfoGrid"></div>
    		</div>
    		<div data-dojo-type="dijit/layout/ContentPane" title="Teams" id="teamsPane">
    			<label for="divisionSelect">Select Division</label>
    			<select id="divisionSelect" data-dojo-type="dijit/form/Select" name="divisionSelect">
    			</select>
    			<b>Selection division, then click on row</b> with team to see team schedule.  Scroll down. <b>Note on Bye Weeks:</b> Because of the odd number of teams in some divisions, some teams ih the division will have bye week(s) in their schedule.
    			<div id="divisionGridLinkTeams"></div>
    			<div id="teamDataGrid"></div>
    		</div>
    		<div data-dojo-type="dijit/layout/ContentPane" title="Fields" id="fieldsPane">
    			<b>click on Field row</b> to see field schedule.  Scroll down
    			<div id="fieldInfoGrid"></div>
    			<div id="fieldScheduleGrid"></div>
    		</div>
    		<div data-dojo-type="dijit/layout/ContentPane" title="Metrics" id="metricsPane">
    			Internal use - display metrics for schedule fairness. Some specific schedule metrics impacted by constraints implemented for specific teams.<br>
    			<label for="divisionSelectForMetrics">Select Division</label>
                <select id="divisionSelectForMetrics" data-dojo-type="dijit/form/Select" name="divisionSelectForMetrics">
    			</select>
    			<div id="metricsHeader"></div>
    			<div id="metricsGrid"></div>
    		</div>
    		<div data-dojo-type="dijit/layout/ContentPane" title="Download Here" id="DownloadPane">
                <div id="divScheduleLinks">
    			<b>Schedules for Download</b><br><br>
    			<i>Team Schedules in one XLS file, by division: </i></div>
                <br>
				<i>U6-U12 League Schedule, sorted by date and time, one file</i>
				<a href="http://localhost/doc/xls/2013PHMSAFall_schedule_RefFormat.xls">U6-U12 League Schedule</a>
				<br/><br />
				<i>All Team Schedules by Team (XLS)</i>:<br>
				<div id="teamScheduleLinks"></div>
    		</div>
    		<div data-dojo-type="dijit/layout/ContentPane" title="Edit" id="editPane">
                <div data-dojo-type="dijit/form/DropDownButton" class="dijit dijitReset dijitInline primary dijitDropDownButton" role="presentation">
                    <span>Select Schedule</span>
                    <div data-dojo-type="dijit/DropDownMenu" id="dbselect_menu">
                        <div data-dojo-type="dijit/MenuItem" id="newsched_item">New Schedule</div>
                        <div data-dojo-type="dijit/PopupMenuItem" id="existingsched_menu">
                            <span>Existing Schedule</span>
                            <div data-dojo-type="dijit/DropDownMenu" id="dbcollection_submenu">
                            </div>
                        </div>
                        <div data-dojo-type="dijit/PopupMenuItem">
                            <span>Delete Schedule</span>
                            <div data-dojo-type="dijit/DropDownMenu" id="deldbcollection_submenu">
                            </div>
                        </div>
                    </div>
                </div>
                <!--reference on use of different kinds of id's:
                http://dojotoolkit.org/reference-guide/1.9/dijit/registry.html#data-dojo-id-jsid-before-dojo-1-6
                http://stackoverflow.com/questions/12469140/difference-between-id-and-data-dojo-id
                -->
                <div data-dojo-type="dijit/form/Form" id="newsched_form_id" data-dojo-id="newsched_form_id" class="style_none">
                    <label for="newsched_input_id">New Schedule Name</label>
                    <input type="text" name="newsched_input" id="newsched_input_id" value="phmsacup2013" required="true" data-dojo-type="dijit/form/ValidationTextBox" title="Enter Schedule Name"
                    data-dojo-props="regExp:'[\\w]+', promptMessage:'Enter schedule name - only alphanumeric characters and _', invalidMessage:'only alphanumeric characters and _', missingMessage:'enter schedule name'"/>
                    <div class="dijitHidden"><span data-dojo-type="dijit/Tooltip" data-dojo-props="connectId:'newsched_input_id', position:['below','after']">Specify Schedule Name</span></div>
                    <label for="divnum_input_id">Number of Divisions</label>
                    <input type="text" name="divnum_input" id="divnum_input_id" value="1" required="true" data-dojo-type="dijit/form/NumberTextBox" title="Enter Number of Divisions and press ENTER" style="width:6em"
                    data-dojo-props="constraints:{min:1, max:1000}, promptMessage:'Enter Number of Divisions', invalidMessage:'Must be Non-zero integer', missingMessage:'Enter Number of Divisions (positive ineteger)'"/>
                    <div class="dijitHidden"><span data-dojo-type="dijit/Tooltip" data-dojo-props="connectId:'divnum_input_id', position:['below','after']">Specify Number of Divisions and press ENTER</span>
                    </div><br>
                    <button class="dijitButton primary" data-dojo-type="dijit/form/Button" type="button" name="submitButton" id="submit_btn" value="Submit">Save Division Info</button>
                </div>
                <!-- note button below is of type button rather than submit because of problems with the 'submit' event action -->
                <div class="style_none" id="divisionInfoUpdateBtnText">
                    <span id="divisionInfoNodeText"></span><button class="dijitButton primary" data-dojo-type="dijit/form/Button" type="button" name="updatesubmitButton" id="updatesubmit_btn" value="Submit">Update Division Info</button>
                </div>
                <!-- http://dojofoundation.org/packages/dgrid/tutorials/grids_and_stores/ -->
                <div id="divisionInfoInputGridErrorNode" class="style_none"></div>
                <div id="divisionInfoInputGrid"></div>
                <!--
                <span class="dijit dijitReset dijitInline primary dijitButton" role="presentation">
                <button style="display: inline" id="new_btn" data-dojo-type="dijit/form/Button" type="button" title="Click to Create New Schedule">NEW Schedule</button> </span>
                <div id="newsched_name" class="style_none">
                    <label for="newsched_input">Input Schedule Name</label>
                    <input type="text" name="newsched_input" id="newsched_input" value="newdb" required="true" data-dojo-type="dijit/form/ValidationTextBox" title="Enter Schedule Name"
                    data-dojo-props="regExp:'[\\w]+', promptMessage:'Enter schedule name - only alphanumeric characters and _', invalidMessage:'only alphanumeric characters and _', missingMessage:'enter schedule name'"/>
                </div>
    			<br><b>Edit Division Parameters</b>
                <label for="divSelectForEdit">Select Division</label>
                <select id="divSelectForEdit" data-dojo-type="dijit/form/Select" name="divSelectForEdit">
                </select>
    			<div id="seedGrid"></div>
                -->
    		</div>
    		<div data-dojo-type="dijit/layout/ContentPane" title="Generate" id="generatePane">
    			<b>Generate Schedule</b>
                <span class="dijitButton" style="display:inline">
    			<button class="primary" id="schedule_btn" data-dojo-type="dijit/form/Button" type="button">Generate Sched</button>
    			<!--<button class="warning" id="cup_btn" data-dojo-type="dijit/form/Button" type="button">Generate Cup Sched</button> -->
                <div data-dojo-type="dijit/form/DropDownButton" class="primary dijitDropDownButton">
                    <span>Generate Cup Sched</span>
                    <div data-dojo-type="dijit/DropDownMenu">
                        <div data-dojo-type="dijit/MenuItem" id="elimination2013">Elimination Tournament</div>
                        <div data-dojo-type="dijit/PopupMenuItem">
                            <span>Select RR League</span>
                            <div data-dojo-type="dijit/DropDownMenu" id="cupdbcollection_submenu">
                            </div>
                        </div>
                    </div>
                </div>
    			<button class="primary" id="export_btn" data-dojo-type="dijit/form/Button" type="button">Export</button>
                <button class="primary" id="exporttourn_btn" data-dojo-type="dijit/form/Button" type="button">Export Tournament</button><br>
                </span>
                <div id="dbstatus1_txt"></div>
    		</div>
    	</div>
    </body>
</html>
